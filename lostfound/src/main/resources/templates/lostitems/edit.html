<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8"/>
    <title>Edit Item</title>
</head>
<body>

<h1>Edit Lost/Found Item</h1>

<div>
    <a th:href="@{/lost-items/my-items}">Back to My Items</a>
</div>

<hr/>

<form th:action="@{/lost-items/{id}/edit(id=${item.id})}" method="post" enctype="multipart/form-data">

    <div>
        <label>Title</label><br/>
        <input type="text" name="title" th:value="${item.title}" required />
    </div>

    <div>
        <label>Type</label><br/>
        <select name="type" required>
            <option value="LOST" th:selected="${item.type != null && item.type.name() == 'LOST'}">Lost</option>
            <option value="FOUND" th:selected="${item.type != null && item.type.name() == 'FOUND'}">Found</option>
        </select>
    </div>

    <div>
        <label>Contact Email</label><br/>
        <input type="email" name="contactEmail" th:value="${item.contactEmail}" />
    </div>

    <div>
        <label>Contact Phone</label><br/>
        <input type="text" name="contactPhone" th:value="${item.contactPhone}" />
    </div>

    <div>
        <label>Description</label><br/>
        <textarea name="description" rows="5" cols="50" th:text="${item.description}"></textarea>
    </div>

    <div>
        <label>Location</label><br/>
        <input type="text" name="location" th:value="${item.location}" />
    </div>

    <div>
        <label>Replace Image (optional)</label><br/>
        <input type="file" name="image" accept="image/*" />
    </div>

    <input type="hidden" th:name="${_csrf.parameterName}" th:value="${_csrf.token}" />

    <button type="submit">Save</button>

    <div th:if="${error}" th:text="${error}" style="color:darkred;margin-top:10px;"></div>
</form>

</body>
</html>
