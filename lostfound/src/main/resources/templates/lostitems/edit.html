<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8"/>
    <title>Edit Item</title>
    <style>
        .error { color: darkred; margin: 10px 0; }
        label { font-weight:bold; }
    </style>
</head>
<body>

<h1>Edit Lost/Found Item</h1>

<div>
    <a th:href="@{/home}">Back to Home</a>
</div>

<div class="error" th:if="${error}" th:text="${error}"></div>

<hr/>

<form th:action="@{/lost-items/{id}/edit(id=${item.id})}" method="post">
    <input type="hidden" th:name="${_csrf.parameterName}" th:value="${_csrf.token}" />

    <div>
        <label>Title</label><br/>
        <input type="text" name="title" th:value="${item.title}" required />
    </div>

    <div>
        <label>Type</label><br/>
        <select name="type" required>
            <option value="LOST" th:selected="${item.type != null && item.type.name() == 'LOST'}">Lost</option>
            <option value="FOUND" th:selected="${item.type != null && item.type.name() == 'FOUND'}">Found</option>
        </select>
    </div>

    <div>
        <label>Description</label><br/>
        <textarea name="description" rows="5" cols="50" th:text="${item.description}"></textarea>
    </div>

    <div>
        <label>Location</label><br/>
        <input type="text" name="location" th:value="${item.location}" />
    </div>

    <br/>
    <button type="submit">Save</button>
</form>

</body>
</html>
